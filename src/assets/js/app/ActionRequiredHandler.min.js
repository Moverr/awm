var ActionRequiredHandler=function(){ActionRequiredHandler.self=this;loanList.addDataModelChangedEventListenerCallback(ActionRequiredHandler.prototype._dataModelChanged);savingsAccountList.addDataModelChangedEventListenerCallback(ActionRequiredHandler.prototype._dataModelChanged);shareList.addDataModelChangedEventListenerCallback(ActionRequiredHandler.prototype._dataModelChanged)};ActionRequiredHandler.OVERVIEW_TITLES={type:"Items available",number:"Number"};ActionRequiredHandler.prototype.overview=function(){addHistory("Action required overview","#actionRequiredOverview","#actionRequired");initDefaultContent("Action required");currentTable="actionRequired";var c=getDefaultRowContainer(ActionRequiredHandler.OVERVIEW_TITLES);var d=$('span[data-counterkey="loanApplications"]').data("counter");var f=$('span[data-counterkey="loanApproved"]').data("counter");var h=$('span[data-counterkey="loanDisbursements"]').data("counter");var e=$('span[data-counterkey="loanDisburse"]').data("counter");var b=$('span[data-counterkey="savingsAccountApplications"]').data("counter");var a=$('span[data-counterkey="sharePurchaseApplications"]').data("counter");var g=$('span[data-counterkey="shareSaleApplications"]').data("counter");addRow(c,{type:"Approve Loan Applications",number:'<span data-counter="'+d+'" data-counterkey="loanApplications">'+d+"</span>"},"Loan",ActionRequiredHandler.self.rowClickHandler,"getApplications");addRow(c,{type:"Sign Loan Contracts",number:'<span data-counter="'+f+'" data-counterkey="loanApplications">'+f+"</span>"},"Loan",ActionRequiredHandler.self.rowClickHandler,"getSingngContracts");addRow(c,{type:"Allow Loan Disbursements",number:'<span data-counter="'+h+'" data-counterkey="loanDisbursements">'+h+"</span>"},"Loan",ActionRequiredHandler.self.rowClickHandler,"getDisbursements");addRow(c,{type:"Disburse Loan",number:'<span data-counter="'+e+'" data-counterkey="loanDisbursements">'+e+"</span>"},"Loan",ActionRequiredHandler.self.rowClickHandler,"getAllowedDisbursements");addRow(c,{type:"Savings account applications",number:'<span data-counter="'+b+'" data-counterkey="savingsAccountApplications">'+b+"</span>"},"SavingsAccount",ActionRequiredHandler.self.rowClickHandler,"getApplications")};ActionRequiredHandler.prototype.rowClickHandler=function(){var b=$(this).data("id");var a=$(this).data("object");$('li[data-parent~="actionRequired"][data-handler="'+a+'"][data-action~="'+b+'"] a').click()};ActionRequiredHandler.prototype._loanApplicationsRowClickHandler=function(){$("#actionRequired-loanApplications").click()};ActionRequiredHandler.prototype._loanDisbursementsRowClickHandler=function(){$("#actionRequired-loanDisbursements").click()};ActionRequiredHandler.prototype._savingsAccountApplicationsRowClickHandler=function(){$("#actionRequired-savingsAccountApplications").click()};ActionRequiredHandler.prototype._savingsAccountApplicationsRowClickHandler=function(){$("#actionRequired-savingsAccountApplications").click()};ActionRequiredHandler.prototype._dataModelChanged=function(){var d=loanList.getSubmittedCount();var h=loanList.getContractSignedCount();var f=loanList.getApprovedCount();var e=loanList.getDisburesmentAllowedCount();var b=savingsAccountList.getCountByStatus("SUBMITTED");var a=shareList.getCountByStatus("SUBMITTED_FOR_PURCHASE");var g=shareList.getCountByStatus("SUBMITTED_FOR_SALE");var c;c=$('span[data-counterkey="loanApplications"]');c.data("counter",d);c.text(d);if(d===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="loanApproved"]');c.data("counter",f);c.text(f);if(f===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="loanDisburse"]');c.data("counter",e);c.text(e);if(e===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="loanDisbursements"]');c.data("counter",h);c.text(h);if(h===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="savingsAccountApplications"]');c.data("counter",b);c.text(b);if(b===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="sharePurchaseApplications"]');c.data("counter",a);c.text(a);if(a===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="shareSaleApplications"]');c.data("counter",g);c.text(g);if(g===0&&!c.parent().is("td")){c.hide()}else{c.show()}c=$('span[data-counterkey="actionRequired"]');c.data("counter",d+e+h+f+b+a+g);c.text(d+e+h+f+b+a+g);if(d+e+h+f+b+a+g===0&&!c.parent().is("td")){c.hide()}else{c.show()}};